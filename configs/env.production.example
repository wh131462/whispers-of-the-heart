# ============================================
# Whispers of the Heart - 生产环境配置模板
# ============================================
# 使用方法：复制此文件为 env.production 并修改值
# ============================================

# 环境标识
NODE_ENV=production

# ============================================
# 数据库配置
# ============================================
# Docker 环境下使用服务名 "postgres" 作为主机名
DATABASE_URL=postgresql://EternalHeart:your_password@postgres:5432/whispers_db
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USERNAME=EternalHeart
POSTGRES_PASSWORD=your_password
POSTGRES_DATABASE=whispers_db

# ============================================
# JWT 配置
# ============================================
# 生成方法: openssl rand -base64 32
JWT_SECRET=your_jwt_secret_key_change_this
JWT_EXPIRES_IN=7d
REFRESH_TOKEN_SECRET=your_refresh_token_secret
REFRESH_TOKEN_EXPIRES_IN=30d

# ============================================
# 文件上传配置
# ============================================
UPLOAD_PATH=./uploads
MAX_FILE_SIZE=52428800
ALLOWED_IMAGE_TYPES=jpg,jpeg,png,gif,webp
ALLOWED_VIDEO_TYPES=mp4,webm,avi,mov
ALLOWED_AUDIO_TYPES=mp3,wav,ogg,m4a

# ============================================
# MinIO 对象存储配置
# ============================================
# Docker 环境下使用服务名 "minio" 作为主机名
MINIO_ENDPOINT=minio
MINIO_PORT=9000
MINIO_ACCESS_KEY=your_minio_access_key
MINIO_SECRET_KEY=your_minio_secret_key
MINIO_BUCKET=whispers-storage
MINIO_USE_SSL=false

# ============================================
# 邮件配置（用于密码重置、评论通知等）
# ============================================
# SMTP 服务器地址
MAIL_HOST=smtp.exmail.qq.com
# SMTP 端口（465=SSL, 587=TLS）
MAIL_PORT=465
# SMTP 用户名
MAIL_USERNAME=no-reply@131462.wang
# SMTP 密码或授权码
MAIL_PASSWORD=your_mail_password
# 发件人地址
MAIL_FROM=no-reply@131462.wang
# 如果使用自签名证书，设置为 false
# MAIL_TLS_REJECT_UNAUTHORIZED=false

# ============================================
# 应用配置
# ============================================
APP_NAME=Whispers of the Heart
WEB_URL=https://131462.wang
API_URL=https://api.131462.wang

# ============================================
# 端口配置
# ============================================
API_PORT=7777
WEB_PORT=8888

# ============================================
# Vite 前端环境变量
# ============================================
VITE_API_URL=https://api.131462.wang
VITE_WEB_URL=https://131462.wang
VITE_WEB_PORT=8888

# ============================================
# 日志配置
# ============================================
LOG_LEVEL=info
LOG_FILE=logs/app.log

# ============================================
# 安全配置
# ============================================
CORS_ORIGINS=https://131462.wang,https://www.131462.wang
SESSION_SECRET=your_session_secret_key
BCRYPT_ROUNDS=12

# ============================================
# 第三方服务配置（可选）
# ============================================
GOOGLE_ANALYTICS_ID=
SENTRY_DSN=

# ============================================
# 管理员账号配置（首次部署时自动创建）
# ============================================
ADMIN_EMAIL=admin@131462.wang
ADMIN_USERNAME=admin
ADMIN_PASSWORD=your_secure_password

# ============================================
# 功能开关
# ============================================
ENABLE_REGISTRATION=true
ENABLE_COMMENTS=true
ENABLE_LIKES=true
ENABLE_EMAIL_VERIFICATION=true

# ============================================
# 常见邮箱 SMTP 配置示例
# ============================================
# QQ企业邮箱:
#   MAIL_HOST=smtp.exmail.qq.com
#   MAIL_PORT=465
#   MAIL_USERNAME=your@domain.com
#   MAIL_PASSWORD=邮箱密码
#
# QQ个人邮箱:
#   MAIL_HOST=smtp.qq.com
#   MAIL_PORT=465
#   MAIL_USERNAME=your_qq@qq.com
#   MAIL_PASSWORD=授权码（在QQ邮箱设置中获取）
#
# 163邮箱:
#   MAIL_HOST=smtp.163.com
#   MAIL_PORT=465
#   MAIL_USERNAME=your@163.com
#   MAIL_PASSWORD=授权码
#
# Gmail:
#   MAIL_HOST=smtp.gmail.com
#   MAIL_PORT=587
#   MAIL_USERNAME=your@gmail.com
#   MAIL_PASSWORD=应用专用密码
