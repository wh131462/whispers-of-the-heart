# ============================================
# Whispers of the Heart - 环境配置模板
# ============================================
# 使用方法：
# 1. 复制此文件为 env.development 或 env.production
# 2. 根据环境修改相应的值
# ============================================

# 环境标识
NODE_ENV=development

# ============================================
# 数据库配置
# ============================================
# 开发环境使用 localhost，生产环境使用 Docker 服务名 "postgres"
DATABASE_URL=postgresql://whispers_user:whispers_password@localhost:5432/whispers_db
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USERNAME=whispers_user
POSTGRES_PASSWORD=whispers_password
POSTGRES_DATABASE=whispers_db

# ============================================
# JWT 配置
# ============================================
# 生产环境请务必更换为安全的随机字符串
# 生成方法: openssl rand -base64 32
JWT_SECRET=your_jwt_secret_key_change_this
JWT_EXPIRES_IN=7d
REFRESH_TOKEN_SECRET=your_refresh_token_secret
REFRESH_TOKEN_EXPIRES_IN=30d

# ============================================
# 文件上传配置
# ============================================
UPLOAD_PATH=./uploads
MAX_FILE_SIZE=52428800
ALLOWED_IMAGE_TYPES=jpg,jpeg,png,gif,webp
ALLOWED_VIDEO_TYPES=mp4,webm,avi,mov
ALLOWED_AUDIO_TYPES=mp3,wav,ogg,m4a

# ============================================
# MinIO 对象存储配置
# ============================================
# 开发环境使用 localhost，生产环境使用 Docker 服务名 "minio"
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_ACCESS_KEY=whispers_minio
MINIO_SECRET_KEY=whispers_minio_password
MINIO_BUCKET=whispers-storage
MINIO_USE_SSL=false

# ============================================
# 邮件配置（用于密码重置、评论通知等）
# ============================================
# SMTP 服务器地址
MAIL_HOST=smtp.example.com
# SMTP 端口（465=SSL, 587=TLS）
MAIL_PORT=465
# SMTP 用户名
MAIL_USERNAME=your_email@example.com
# SMTP 密码或授权码
MAIL_PASSWORD=your_email_password
# 发件人地址
MAIL_FROM=noreply@example.com
# 如果使用自签名证书，设置为 false
# MAIL_TLS_REJECT_UNAUTHORIZED=false

# ============================================
# 应用配置
# ============================================
APP_NAME=Whispers of the Heart
WEB_URL=http://localhost:8888
API_URL=http://localhost:7777

# ============================================
# 端口配置
# ============================================
API_PORT=7777
WEB_PORT=8888

# ============================================
# Vite 前端环境变量
# ============================================
VITE_API_URL=http://localhost:7777
VITE_WEB_URL=http://localhost:8888
VITE_WEB_PORT=8888

# ============================================
# 日志配置
# ============================================
LOG_LEVEL=debug
LOG_FILE=logs/app.log

# ============================================
# 安全配置
# ============================================
CORS_ORIGINS=http://localhost:8888
SESSION_SECRET=your_session_secret_key
BCRYPT_ROUNDS=10

# ============================================
# 第三方服务配置（可选）
# ============================================
GOOGLE_ANALYTICS_ID=
SENTRY_DSN=

# ============================================
# 管理员账号配置（首次部署时自动创建）
# ============================================
ADMIN_EMAIL=admin@example.com
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin123

# ============================================
# 功能开关
# ============================================
ENABLE_REGISTRATION=true
ENABLE_COMMENTS=true
ENABLE_LIKES=true
ENABLE_EMAIL_VERIFICATION=false
